
---

# ✅ `project.card.yaml`

```yaml
id: P20A
slug: preference-aware-router-adk
title_en: Preference-Aware Router (ADK Version)
title_zh: 基于人格偏好的 ADK 行为路由引擎
module: m03_sessions_memory
level: 3
status: draft

goal:
  - Load the persona_state.json generated by P19.
  - Derive a routing policy based on Persona fields (answer_style, format_preferences, dislikes).
  - Construct two ADK LlmAgents: structured_agent and narrative_agent.
  - Execute the selected agent via ADK Runner + InMemorySessionService.
  - Print final LLM output shaped by Persona-driven routing.

prerequisites:
  - python_basic_setup
  - adk_install
  - project:P18
  - project:P19
  - project:P20-mocking

skills:
  - persona_based_routing
  - policy_derivation
  - adk.LlmAgent
  - adk.Runner
  - session_state_basics
  - runtime_decision_logic
  - gemini_inference
  - persona_driven_behavior_modulation

entrypoint: src/main.py
estimated_time_min: 60

outputs:
  - "Console logs showing Persona signals, routing policy, and selected ADK agent."
  - "Final Gemini model response from the chosen ADK agent."
  - "Demonstration of Persona → Policy → Routing → Real LLM Behavior."

links:
  substack: ""
  kaggle: ""
  notes: ""
